public async listarProductos(filtro: string, valor: string): Promise<any> {
try {
  let listaProductos: Producto[] = [];
  const rows = await dao.listarProductos()
  if (rows) {
      for (const row of rows) {
          listaProductos.push({code:row["code"],title:row["title"],description:row["description"],price:row["price"],thumbnail:row["thumbnail"],stock:row["stock"],timestamp:row["timestamp"],id:row["id"]});
      }
  }
  // Aca vos ya te abstraiste de la bd, no importa si es mongo filesystem o pepe ya tenes un objeto comun en teoria
 // por ende es valido para cualquier bd
 if (!filtro) return listaProductos;
 if (filtro === 'nombre')
    return listaProductos.find(producto => producto.nombre === valor)
  if (filtro === 'precio')
     return listaProductos.filter(producto => producto.precio > precio)
}

Algo asi lo imagino. A vos te llega el tipo de filtro y el valor por ejemplo
nombre y 'licuadora'
o precio y 100 pesos

entonces vos haces todo normal, obtenes tu array de productos de la bd


